# ุฅุตูุงุญ ุฃุฎุทุงุก Decimal ูู ProvisionalSalesService

## ุงููุดุงูู ุงูุชู ุชู ุฅุตูุงุญูุง

### 1. ูุดููุฉ ููุน Decimal ูู ุญุณุงุจ ุงููุฌููุน
```typescript
// ุงููุดููุฉ ุงูุฃุตููุฉ โ
const total = data.lines.reduce((sum, line) => {
  return sum + (line.qty * line.unitPrice);
}, 0); // ุฎุทุฃ: number ูุง ูููู ุชุนูููู ุฅูู Decimal

// ุงูุญู ุงููุทุจู โ
const total = new Prisma.Decimal(
  data.lines.reduce((sum, line) => {
    return sum + (line.qty * line.unitPrice);
  }, 0)
);
```

### 2. ูุดููุฉ ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ูุน Decimal
```typescript
// ุงููุดููุฉ ุงูุฃุตููุฉ โ
const qtyInBoxes = product.unitsPerBox ? line.qty / Number(product.unitsPerBox) : line.qty;
// ุฎุทุฃ: line.qty ูู ููุน Decimal ููุง ูููู ุงุณุชุฎุฏุงูู ูู ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ูุจุงุดุฑุฉ

// ุงูุญู ุงููุทุจู โ
const qtyInBoxes = product.unitsPerBox ? Number(line.qty) / Number(product.unitsPerBox) : Number(line.qty);
```

## ุงูุฅุตูุงุญุงุช ุงููุทุจูุฉ

### ูู ุฏุงูุฉ createProvisionalSale
- ุชุญููู ูุชูุฌุฉ ุญุณุงุจ ุงููุฌููุน ุฅูู `Prisma.Decimal`
- ุถูุงู ุงูุชูุงูู ูุน ููุน ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ูู ุฏุงูุฉ updateProvisionalSale  
- ููุณ ุงูุฅุตูุงุญ ูุญุณุงุจ ุงููุฌููุน ุงูุฌุฏูุฏ ุนูุฏ ุชุญุฏูุซ ุงูุณุทูุฑ
- ุงุณุชุฎุฏุงู `new Prisma.Decimal()` ูุชุญููู ุงููุชูุฌุฉ

### ูู ุฏุงูุฉ convertToSale
- ุชุญููู ููู `Decimal` ุฅูู `number` ูุจู ุงูุนูููุงุช ุงูุญุณุงุจูุฉ
- ุงุณุชุฎุฏุงู `Number()` ููุชุญููู ุงูุขูู

## ุงููุชูุฌุฉ

โ **ุชู ุฅุตูุงุญ ุฌููุน ุฃุฎุทุงุก TypeScript ุงููุชุนููุฉ ุจู Decimal**
โ **ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ุชุนูู ุจุดูู ุตุญูุญ**
โ **ุงูุชูุงูู ูุน ุฃููุงุน ุจูุงูุงุช Prisma**
โ **ุญุณุงุจ ุฏููู ูููุฌุงููุน ูุงููููุงุช**

## ููุงุญุธุงุช ูููุฉ

- **Prisma.Decimal**: ููุณุชุฎุฏู ููููู ุงูููุฏูุฉ ูุงููููุงุช ุงูุฏูููุฉ
- **Number()**: ููุชุญููู ุงูุขูู ูู Decimal ุฅูู number ููุนูููุงุช ุงูุญุณุงุจูุฉ
- **new Prisma.Decimal()**: ูุฅูุดุงุก ููู Decimal ุฌุฏูุฏุฉ ูู numbers

ุงููุธุงู ุงูุขู ุฌุงูุฒ ููุชุดุบูู ุจุฏูู ุฃุฎุทุงุก! ๐
